<%- include('./partials/header') %>
<div class="bg-no-repeat bg-cover flex w-full justify-around" style="background-image: linear-gradient(rgba(0,0,0,0.678), rgb(0,0,0)), url('/images/hero.jpg');">

<%- include('./partials/sidebar') %>

<main class="min-h-screen w-full px-6 sm:px-10 pt-6 max-w-screen mx-auto">
  <div class="bg-[#0c0c0c] rounded-lg shadow p-6 w-full max-w-3xl mx-auto">
    <h2 class="text-xl font-semibold mb-6 text-gray-200">Edit Course</h2>

    <form action="/admin/courses/<%= course._id %>?_method=PUT" method="POST" class="space-y-4">

      <!-- Title -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Title</label>
        <input type="text" name="title" value="<%= course.title %>" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
      </div>

      <!-- Code -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Code</label>
        <input type="text" name="code" value="<%= course.code %>" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
      </div>

      <!-- Unit -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Unit</label>
        <input type="number" name="unit" value="<%= course.unit %>" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
      </div>

      <!-- Department -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Department</label>
        <select name="department" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
          <option value="">-- Select Department --</option>
          <% departments.forEach(dept => { %>
            <option value="<%= dept._id %>" <%= course.department?.toString() === dept._id.toString() ? 'selected' : '' %>>
              <%= dept.name %>
            </option>
          <% }) %>
        </select>
      </div>

      <!-- Semester -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Semester</label>
        <select name="semester" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
          <option value="">-- Select Semester --</option>
          <% semesters.forEach(sem => { %>
            <option value="<%= sem._id %>" <%= course.semester?.toString() === sem._id.toString() ? 'selected' : '' %>>
              <%= sem.name %>
            </option>
          <% }) %>
        </select>
      </div>

      <!-- Lecturer -->
      <div>
        <label class="block text-sm text-gray-400 mb-1">Lecturer</label>
        <select name="lecturerId" required class="w-full px-3 py-2 bg-[#1c1c1c] border border-gray-600 rounded text-white">
          <option value="">-- Select Lecturer --</option>
          <% lecturers.forEach(lecturer => { %>
            <option value="<%= lecturer._id %>" <%= course.lecturerId?.toString() === lecturer._id.toString() ? 'selected' : '' %>>
              <%= lecturer.name %> (<%= lecturer.email %>)
            </option>
          <% }) %>
        </select>
      </div>

      <!-- Submit -->
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">
        Update Course
      </button>
    </form>
  </div>
</main>
  </div>

  </div>

<%- include('./partials/footer') %>
