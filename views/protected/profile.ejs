<%- include("../partials/header") %>

<!-- Avatar -->

<!-- Profile Edit + Password Change -->
<div class="flex items-center justify-center min-h-screen bg-black ">
  <div class="bg-[#0e0e0e] rounded-lg shadow-lg p-8 w-full max-w-md">
    <h1 class="text-2xl font-bold text-white mb-6 text-center pt-10">Edit Profile</h1>

    <!-- Edit Profile Form -->
    <form action="/<%= user.role %>/profile/edit" method="POST" class="space-y-5">
      <div>
        <label for="name" class="block text-gray-300 mb-1 font-semibold">Name:</label>
        <input type="text" id="name" name="name" value="<%= user.name %>" required
          class="w-full px-4 py-2 rounded bg-[#1d1d1d] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div>
        <label for="email" class="block text-gray-300 mb-1 font-semibold">Email:</label>
        <input type="email" id="email" name="email" value="<%= user.email %>" required
          class="w-full px-4 py-2 rounded bg-black text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div>
        <label for="role" class="block text-gray-300 mb-1 font-semibold">Role:</label>
        <input type="text" id="role" name="role" value="<%= user.role %>" readonly
          class="w-full px-4 py-2 rounded bg-black text-gray-400 border border-gray-600 cursor-not-allowed">
      </div>

      <button type="submit"
        class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded transition">
        Save Changes
      </button>
    </form>

    <!-- Change Password Form -->
    <form action="/profile/change-password" method="POST" class="space-y-4 mt-10">
      <h2 class="text-white text-xl font-semibold mb-4">Change Password</h2>

      <div>
        <label class="block text-gray-300 mb-1 font-semibold">Current Password:</label>
        <input type="password" name="currentPassword" required
          class="w-full px-4 py-2 rounded bg-black text-white border border-gray-600">
      </div>

      <div>
        <label class="block text-gray-300 mb-1 font-semibold">New Password:</label>
        <input type="password" name="newPassword" required
          class="w-full px-4 py-2 rounded bg-black text-white border border-gray-600">
      </div>

      <button type="submit"
        class="w-full py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded transition">
        Update Password
      </button>
    </form>

    <!-- Logout -->
    <a href="/logout"
      class="block mt-6 text-center py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded transition">
      Logout
    </a>
  </div>
</div>

<%- include("../partials/footer") %>
